<template>
    <lightning-modal-header label="New Account"></lightning-modal-header>
    <lightning-modal-body> 
        <p class="slds-text-align_right"><abbr class="slds-required">*</abbr> = Required Information</p>
        <h3 class="slds-section__title slds-theme--shade slds-p-horizontal_small slds-m-top_x-small">
            Account Information
        </h3>
        <lightning-spinner
            lwc:if={isModalLoading}
            alternative-text="Loading..."
            class="slds-is-relative slds-align_absolute-center slds-m-top_medium"
            size="small">
        </lightning-spinner>
        <lightning-record-edit-form
            object-api-name={accountObjectApiNameGetter}
            lwc:ref="recordEditForm"
            onsuccess={handleSuccess}
            onload={handleLoad}>
            <lightning-layout multiple-rows class="slds-m-around_small">
                <template for:each={fieldNamesGetter} for:item="field">
                    <lightning-layout-item key={field.id} size="6">
                        <lightning-input-field field-name={field}></lightning-input-field>
                    </lightning-layout-item>
                </template>
            </lightning-layout>
        </lightning-record-edit-form>
    </lightning-modal-body>
    <lightning-modal-footer>
        <div class="slds-align_absolute-center">
            <lightning-button 
                label="Cancel" 
                onclick={handleCancel} 
                class="slds-m-right_xx-small">
            </lightning-button>
            <lightning-button 
                label="Save &amp; New" 
                onclick={handleSave} 
                name="SaveAndNew"
                class="slds-m-right_xx-small">
            </lightning-button>
            <lightning-button 
                variant="brand" 
                label="Save" 
                name="Save"
                onclick={handleSave}>
            </lightning-button>
        </div>
    </lightning-modal-footer>
</template>