<template>
    <lightning-layout horizontal-align="space" vertical-align="center" class="slds-m-bottom_small">
        <lightning-layout-item size="5">
            <lightning-button-group>
                <lightning-button
                    label="New"
                    icon-name="action:new"
                    onclick={handleNewClick}>
                </lightning-button>
                <lightning-button
                    label="Edit"
                    icon-name="action:edit"
                    onclick={handleEditClick}>
                </lightning-button>
                <lightning-button
                    label="Delete"
                    icon-name="utility:delete"
                    onclick={handleDeleteClick}>
                </lightning-button>
            </lightning-button-group>
        </lightning-layout-item>
        <lightning-layout-item size="5">
            <lightning-input label="Search Expense" type="search" onchange={handleSearch} variant="label-hidden"></lightning-input>
        </lightning-layout-item>
    </lightning-layout>
    <div class="slds-scrollable table-container">
        <lightning-datatable
            key-field="Id"
            columns={expensesColumnsGetter}
            data={expensesData}
            selected-rows={selectedExpenseIds}
            onrowselection={handleRowSelection}
            onloadmore={handleLoadMoreExpenses}
            is-loading={isLoading}
            sorted-direction={sortDirection}
            sorted-by={sortedBy}
            onsort={handleSort}
            max-row-selection="1"
            enable-infinite-loading
            show-row-number-column
            lwc:ref="expensesTable">
        </lightning-datatable>
    </div>
</template>